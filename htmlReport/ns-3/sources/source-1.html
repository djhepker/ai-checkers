


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Checker</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">main.java.entity</a>
</div>

<h1>Coverage Summary for Class: Checker (main.java.entity)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Checker</td>
<td class="coverageStat">
  <span class="percent">
    78.6%
  </span>
  <span class="absValue">
    (11/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    90.6%
  </span>
  <span class="absValue">
    (29/32)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    78.6%
  </span>
  <span class="absValue">
    (44/56)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Checker$MoveState</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (10/10)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    81.2%
  </span>
  <span class="absValue">
    (13/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    90.6%
  </span>
  <span class="absValue">
    (29/32)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    81.8%
  </span>
  <span class="absValue">
    (54/66)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package main.java.entity;
&nbsp;
&nbsp;import main.java.entity.movement.CapturedNode;
&nbsp;import main.java.entity.movement.MovementManager;
&nbsp;import main.java.entity.movement.LocationNode;
&nbsp;import main.java.utils.GameBoardPiece;
&nbsp;
&nbsp;import java.awt.image.BufferedImage;
&nbsp;import java.util.ArrayDeque;
&nbsp;import java.util.Deque;
&nbsp;
&nbsp;public class Checker extends Entity implements GameBoardPiece {
&nbsp;    private final MovementManager moveMgr;
&nbsp;    private final PieceColor color;
&nbsp;    private final int movementSign;
&nbsp;    private final short pieceValue;
&nbsp;
&nbsp;    public Checker(String name, int x, int y, BufferedImage image, GameBoardPiece[][] pieces) {
<b class="fc">&nbsp;        super(name, x, y, image);</b>
<b class="fc">&nbsp;        this.pieceValue = 100;</b>
<b class="fc">&nbsp;        this.moveMgr = new MovementManager();</b>
<b class="fc">&nbsp;        this.color = PieceColor.valueOf(name.substring(0, 5));</b>
<b class="fc">&nbsp;        this.movementSign = color == PieceColor.LIGHT ? 1 : -1;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public BufferedImage getSprite() {
<b class="fc">&nbsp;        return super.getSprite();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public PieceColor getColor() {
<b class="fc">&nbsp;        return color;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public LocationNode getMoveListPointer() {
<b class="fc">&nbsp;        return moveMgr.getPointerToListHead();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void printLegalMoves() {
<b class="nc">&nbsp;        LocationNode cursor = moveMgr.getPointerToListHead();</b>
<b class="nc">&nbsp;        int row = 0;</b>
<b class="nc">&nbsp;        while (cursor != null) {</b>
<b class="nc">&nbsp;            System.out.print(&quot;Option &quot; + row + &quot;: (&quot; + cursor.getDataX() + &quot;, &quot; + cursor.getDataY() + &quot;); &quot;);</b>
<b class="nc">&nbsp;            cursor = cursor.getNext();</b>
<b class="nc">&nbsp;            row++;</b>
&nbsp;        }
<b class="nc">&nbsp;        System.out.println();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String getName() {
<b class="nc">&nbsp;        return super.getName();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public short getPieceValue() {
<b class="fc">&nbsp;        return pieceValue;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void update(GameBoardPiece[][] pieces) {
<b class="fc">&nbsp;        moveMgr.clearListOfMoves();</b>
<b class="fc">&nbsp;        generateLegalMoves(pieces);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void setX(int x) {
<b class="fc">&nbsp;        super.setX(x);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void setY(int y) {
<b class="fc">&nbsp;        super.setY(y);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getX() {
<b class="fc">&nbsp;        return super.getX();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getY() {
<b class="fc">&nbsp;        return super.getY();</b>
&nbsp;    }
&nbsp;
&nbsp;    //TODO: Logic implementation for king status of checker
&nbsp;    /*
&nbsp;     *   STATECODE:
&nbsp;     *   Stationary: 3
&nbsp;     *   Post-jump stationary: 2
&nbsp;     *   Left-jumping: -1
&nbsp;     *   Right-jumping: 1
&nbsp;     *
&nbsp;     * */
&nbsp;    @Override
&nbsp;    public void generateLegalMoves(GameBoardPiece[][] pieces) {
<b class="fc">&nbsp;        Deque&lt;MoveState&gt; taskQueue = new ArrayDeque&lt;&gt;();</b>
<b class="fc">&nbsp;        taskQueue.push(new MoveState(getX(), getY(), 3));</b>
&nbsp;
<b class="fc">&nbsp;        while (!taskQueue.isEmpty()) {</b>
<b class="fc">&nbsp;            MoveState currState = taskQueue.pop();</b>
<b class="fc">&nbsp;            int stateCode = currState.stateCode;</b>
&nbsp;            int[] xDirrectionArray;    // possible directions to move
<b class="fc">&nbsp;            if (stateCode &gt; 1) {</b>
<b class="fc">&nbsp;                xDirrectionArray = new int[] {-1, 1};</b>
&nbsp;            } else {
<b class="fc">&nbsp;                xDirrectionArray = new int[] {currState.stateCode};</b>
&nbsp;            }
<b class="fc">&nbsp;            int yNext = currState.yCell - movementSign;</b>
<b class="pc">&nbsp;            if (0 &lt;= yNext &amp;&amp; yNext &lt; 8) {</b>
<b class="fc">&nbsp;                for (int xDirection : xDirrectionArray) {</b>
<b class="fc">&nbsp;                    int xNext = currState.xCell + xDirection;</b>
<b class="fc">&nbsp;                    if (0 &lt;= xNext &amp;&amp; xNext &lt; 8) {</b>
<b class="fc">&nbsp;                        GameBoardPiece target = pieces[xNext][yNext];</b>
<b class="fc">&nbsp;                        if (target == null) {   // target open case</b>
<b class="fc">&nbsp;                            if (stateCode == 3) { // target open; stationary;</b>
<b class="fc">&nbsp;                                moveMgr.addLocationNode(xNext, yNext);</b>
<b class="fc">&nbsp;                            } else if (stateCode &lt; 2) {    //  target open; mid-jump; direction acknowledged;</b>
<b class="fc">&nbsp;                                short captureValue = pieces[currState.xCell][currState.yCell].getPieceValue();</b>
<b class="fc">&nbsp;                                moveMgr.addLocationNode(xNext, yNext);</b>
<b class="fc">&nbsp;                                LocationNode nextSpace = moveMgr.getPointerToListHead();</b>
<b class="fc">&nbsp;                                nextSpace.addCapturedNode(currState.xCell, currState.yCell, captureValue);</b>
<b class="fc">&nbsp;                                if (currState.capturedNode != null) { // handle prior captures this move</b>
<b class="fc">&nbsp;                                    nextSpace.addCapturedNode(moveMgr.cloneCapturedNode(currState.capturedNode));</b>
&nbsp;                                }
<b class="fc">&nbsp;                                taskQueue.push(new MoveState(xNext, yNext, 2, nextSpace.getCapturedNodes()));</b>
&nbsp;                            }
<b class="fc">&nbsp;                        } else if (stateCode &gt; 1 &amp;&amp; target.getColor() != this.color) {  // target not open;</b>
<b class="fc">&nbsp;                            if (stateCode == 2) { // post-jump; target !null; stationary;</b>
<b class="fc">&nbsp;                                taskQueue.push(new MoveState(xNext, yNext, xDirection, currState.capturedNode));</b>
&nbsp;                            } else {    // beginning position
<b class="fc">&nbsp;                                taskQueue.push(new MoveState(xNext, yNext, xDirection));</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void printData() {
<b class="nc">&nbsp;        System.out.print(&quot;Piece name: &quot; + getName() + &quot;; &quot;);</b>
<b class="nc">&nbsp;        System.out.print(&quot;Piece coordinates: (&quot; + getX() + &quot;, &quot; + getY() + &quot;); &quot;);</b>
<b class="nc">&nbsp;        System.out.print(&quot;Legal move choices: &quot;);</b>
<b class="nc">&nbsp;        printLegalMoves();</b>
&nbsp;    }
&nbsp;
&nbsp;    private class MoveState {
&nbsp;        private final int xCell;
&nbsp;        private final int yCell;
&nbsp;        private final int stateCode;
&nbsp;        private CapturedNode capturedNode;
&nbsp;
<b class="fc">&nbsp;        MoveState(int xCell, int yCell, int stateCode) {</b>
<b class="fc">&nbsp;            this.xCell = xCell;</b>
<b class="fc">&nbsp;            this.yCell = yCell;</b>
<b class="fc">&nbsp;            this.stateCode = stateCode;</b>
<b class="fc">&nbsp;            capturedNode = null;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        MoveState(int xCell, int yCell, int stateCode, CapturedNode capturedNode) {</b>
<b class="fc">&nbsp;            this.xCell = xCell;</b>
<b class="fc">&nbsp;            this.yCell = yCell;</b>
<b class="fc">&nbsp;            this.stateCode = stateCode;</b>
<b class="fc">&nbsp;            this.capturedNode = capturedNode;</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-01-16 18:06</div>
</div>
</body>
</html>
